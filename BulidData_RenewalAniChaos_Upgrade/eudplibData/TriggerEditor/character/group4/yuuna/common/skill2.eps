import variable as v;
import func.trig as trg;

const s = StringBuffer();

function main(playerID)
{
   if (v.P_WaitMain[playerID] == 0)
   {
      if (v.P_CountMain[playerID] < 4)
      {
         KillUnitAt(All, "40 + 1n Mojo", "Anywhere", playerID);
   
         v.P_Distance[playerID] = 50;
         
         trg.Table_Cos(playerID, 45 * v.P_CountMain[playerID], v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 45 * v.P_CountMain[playerID], v.P_Distance[playerID]);
        
         trg.Shape_Square(playerID, 1, "Protoss Dark Templar", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);
         trg.MoveLoc(v.P_UnitID[playerID], playerID, v.P_AngleCos[playerID], v.P_AngleSin[playerID]);
         trg.SkillUnit(playerID, 1, "40 + 1n Mojo");
         trg.MoveLoc(v.P_UnitID[playerID], playerID, -v.P_AngleCos[playerID], -v.P_AngleSin[playerID]);
         trg.SkillUnit(playerID, 1, "40 + 1n Mojo");

         KillUnitAt(All, "Protoss Dark Templar", "Anywhere", playerID);
         MoveLocation(v.P_LocationID[playerID], v.P_UnitID[playerID], playerID, "Anywhere");
         Order("40 + 1n Mojo", playerID, "Anywhere", Attack, v.P_LocationID[playerID]);
         
         trg.Main_Wait(160);
         v.P_CountMain[playerID] += 1;
      }
      else if (v.P_CountMain[playerID] == 4)
      {
         KillUnitAt(All, "40 + 1n Mojo", "Anywhere", playerID);

         trg.Table_Cos(playerID, 0, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 0, v.P_Distance[playerID]);
            
         trg.Shape_Square(playerID, 1, "Kakaru (Twilight)", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);

         trg.Table_Cos(playerID, 45, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 45, v.P_Distance[playerID]);
            
       trg.Shape_Square(playerID, 1, "Kakaru (Twilight)", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);

         KillUnitAt(All, "Kakaru (Twilight)", "Anywhere", playerID);

         trg.Main_Wait(50);
         v.P_CountMain[playerID] += 1;
      }
      else if (v.P_CountMain[playerID] == 5)
      {
         v.P_Distance[playerID] = 75;

         trg.Table_Cos(playerID, 0, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 0, v.P_Distance[playerID]);
            
         trg.Shape_Square(playerID, 1, "40 + 1n Guardian", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);

         trg.Table_Cos(playerID, 45, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 45, v.P_Distance[playerID]);
            
         trg.Shape_Square(playerID, 1, "40 + 1n Guardian", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);
      
         KillUnitAt(All, "40 + 1n Guardian", "Anywhere", playerID);

         trg.Main_Wait(50);
         v.P_CountMain[playerID] += 1;
      }
      else if (v.P_CountMain[playerID] == 6)
      {
         v.P_Distance[playerID] = 50;
         trg.Table_Cos(playerID, 0, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 0, v.P_Distance[playerID]);
            
         trg.Shape_Square(playerID, 1, "40 + 1n Mojo", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);

         trg.Table_Cos(playerID, 45, v.P_Distance[playerID]);
         trg.Table_Sin(playerID, 45, v.P_Distance[playerID]);
            
         trg.Shape_Square(playerID, 1, "40 + 1n Mojo", v.P_AngleCos[playerID], v.P_AngleSin[playerID]);

         MoveLocation(v.P_LocationID[playerID], v.P_UnitID[playerID], playerID, "Anywhere");
         Order("40 + 1n Mojo", playerID, "Anywhere", Attack, v.P_LocationID[playerID]);

         trg.Main_Wait(160);
         v.P_CountMain[playerID] += 1;
      }
      else if (v.P_CountMain[playerID] == 7)
      {
         KillUnitAt(All, "40 + 1n Mojo", "Anywhere", playerID);

         trg.Main_Wait(80);
         v.P_CountMain[playerID] += 1;
      }
      else if (v.P_CountMain[playerID] == 8)
      {
         trg.SkillEnd();
      }
   }
}