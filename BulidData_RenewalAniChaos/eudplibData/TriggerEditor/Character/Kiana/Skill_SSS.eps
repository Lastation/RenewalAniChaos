import PluginVariables as msqcvar;
import func.shape as s;

function main(playerID)
{
	if (v.P_Delay[playerID] == 0)
	{
		if (v.P_CountMain[playerID] == 0)
		{
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", 112, -48);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", -112, -48);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", -48, -144);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", 48, -144);
			
			s.Shape_Square(playerID, 1, "50 + 1n Tank", 16, 16);
			
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", -48, 16);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", 48, 16);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", -16, 48);
			s.Shape_Dot(playerID, 1, "50 + 1n Tank", 16, -48);
			
			MoveLocation(v.P_LocationID[playerID], v.P_CharacterID[playerID], playerID, "Anywhere");
			Order("50 + 1n Tank", playerID, "Anywhere", Attack, v.P_LocationID[playerID]);
			
			s.SkillWait(0);
			v.P_CountMain[playerID] += 1;
		}
		else if (v.P_CountMain[playerID] >= 1 && v.P_CountMain[playerID] <= 18)
		{
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -32, -160);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 0, -160);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 32, -160);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -32, -128);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 0, -128);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 32, -128);
			
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -128, -96);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -96, -96);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -128, -64);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -96, -64);
			
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 128, -96);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 96, -96);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 128, -64);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 96, -64);
			
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 0, -64);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 0, 64);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -32, 64);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 32, 64);
			
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 64, 0);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", 64, 32);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -64, 0);
			s.Shape_Dot(playerID, 1, "Zerg Devourer", -64, 32);
			
			s.Shape_NxNSquare(playerID, 1, "Zerg Devourer", 3, 32);
			
			KillUnitAt(All, "Zerg Devourer", "Anywhere", playerID);
			
			s.SkillWait(0);
			v.P_CountMain[playerID] += 1;
		}
		else if (v.P_CountMain[playerID] == 19)
		{
			KillUnitAt(All, "50 + 1n Tank", "Anywhere", playerID);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", 112, -48);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", -112, -48);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", -48, -144);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", 48, -144);
			
			s.Shape_Square(playerID, 1, "60 + 1n Danimoth", 16, 16);
			
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", -48, 16);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", 48, 16);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", -16, 48);
			s.Shape_Dot(playerID, 1, "60 + 1n Danimoth", 16, -48);
			
			MoveLocation(v.P_LocationID[playerID], v.P_CharacterID[playerID], playerID, "Anywhere");
			Order("60 + 1n Danimoth", playerID, "Anywhere", Attack, v.P_LocationID[playerID]);
			
			s.SkillWait(130);
			v.P_CountMain[playerID] += 1;
		}
		else if (v.P_CountMain[playerID] == 20)
		{
			RemoveUnitAt(All, "60 + 1n Danimoth", "Anywhere", playerID);
			s.SkillEnd();
		}
	}
}