import PluginVariables as msqcvar;
import variable as v;
import func.trig as trg;
import func.sound as s;
import func.trigepic as epic;

 function main(playerID)
{
	MoveUnit(All,"40 + 1n Wraith", playerID, "Anywhere", "[Skill]HoldPosition");
	MoveUnit(All,"50 + 1n Battlecruiser", playerID, "Anywhere", "[Skill]HoldPosition");
	MoveUnit(All,"40 + 1n Mojo", playerID, "Anywhere", "[Skill]HoldPosition");
	if (v.P_WaitMain[playerID] == 0)
	{
		if (v.P_CountMain[playerID] == 0)
		{
			
			if (v.P_LoopMain[playerID] == 0)
			{
			 trg.Shape_Edge(playerID,1,"50 + 1n Battlecruiser",0,3,256);
			 trg.Shape_Line(playerID,1,"40 + 1n Wraith",0,2,64,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Wraith",90,2, 64,0);
				trg.Main_Wait(1500);
				v.P_LoopMain[playerID] += 1;
			}
			else if(v.P_LoopMain[playerID] == 1)
			{
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",0,2,160,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",90,2, 160,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",0,2,160,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",90,2, 160,0);
			 MoveLocation(v.P_LocationID[playerID], v.P_UnitID[playerID], playerID, "Anywhere");
			 trg.Shape_Line(playerID,1,"Protoss Observer",0,2,160,0);
			 trg.Shape_Line(playerID,1,"Protoss Observer",90,2, 160,0);
			 KillUnitAt(All,"Protoss Observer", "Anywhere", playerID);
			 MoveUnit(All,"40 + 1n Marine", playerID, "[Skill]Unit_Wait_ALL", v.P_LocationID[playerID]);
			 Order("40 + 1n Marine",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(400);
				v.P_LoopMain[playerID] += 1;
			}
			else if(v.P_LoopMain[playerID] == 2)
			{
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",0,2,256,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",90,2, 256,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",0,2,256,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",90,2, 256,0);
			 trg.Shape_Line(playerID,1,"Protoss Observer",0,2,256,0);
			 trg.Shape_Line(playerID,1,"Protoss Observer",90,2,256,0);
			 KillUnitAt(All,"Protoss Observer", "Anywhere", playerID);
			 MoveLocation(v.P_LocationID[playerID], v.P_UnitID[playerID], playerID, "Anywhere");
			  MoveUnit(All,"40 + 1n Marine", playerID, "[Skill]Unit_Wait_ALL", v.P_LocationID[playerID]);
			  Order("40 + 1n Marine",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(400);
				v.P_LoopMain[playerID] += 1;
			}
			else if(v.P_LoopMain[playerID] == 3)
			{
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",0,2,352,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Marine",90,2, 352,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",0,2,352,0);
			 trg.Shape_Line(playerID,1,"40 + 1n Mojo",90,2, 352,0);
			 trg.Shape_Line(playerID,1,"Protoss Observer",0,2,352,0);
			 trg.Shape_Line(playerID,1,"Protoss Observer",90,2,352,0);
			 KillUnitAt(All,"Protoss Observer", "Anywhere", playerID);
			 MoveLocation(v.P_LocationID[playerID], v.P_UnitID[playerID], playerID, "Anywhere");
			  MoveUnit(All,"40 + 1n Marine", playerID, "[Skill]Unit_Wait_ALL", v.P_LocationID[playerID]);
			  Order("40 + 1n Wraith",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
			 Order("50 + 1n Battlecruiser",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
			 Order("40 + 1n Mojo",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
			 Order("40 + 1n Marine",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(2500);
				v.P_LoopMain[playerID] += 1;
			}
			else if(v.P_LoopMain[playerID] == 4)
			{
			 KillUnitAt(All,"40 + 1n Marine", "Anywhere", playerID);
			 KillUnitAt(All,"50 + 1n Battlecruiser", "Anywhere", playerID);
			 KillUnitAt(All,"40 + 1n Wraith", "Anywhere", playerID);
			 KillUnitAt(All,"40 + 1n Mojo", "Anywhere", playerID);
			 trg.Main_Wait(100);
				v.P_LoopMain[playerID] += 1;
			}
			
		else if (v.P_LoopMain[playerID] == 5)
			{
			trg.SkillEnd();
			}
		}
	}
}