import PluginVariables as msqcvar;
import variable as v;
import func.trig as trg;
import func.sound as s;

var x = 0;
function main(playerID)
{	
	trg.Debuff_BanReturn();
	trg.Buff_ShieldFix(1);
	
	if (v.P_WaitMain[playerID] == 0)
	{
		if(v.P_CountMain[playerID] == 0)
		{
			KillUnitAt(All,"130 + 1n Norad","Anywhere",playerID);
			KillUnitAt(All,"40 + 1n Mojo","Anywhere",playerID);
			KillUnitAt(All,"60 + 1n Danimoth","Anywhere",playerID);
			if (v.P_LoopMain[playerID] == 0)
			{
				trg.Shape_Dot(playerID,1,"130 + 1n Norad",0,0);
				trg.Shape_Square(playerID,1,"40 + 1n Zergling",32,0);
				trg.Shape_Square(playerID,1,"40 + 1n Zergling",32,32);
				KillUnitAt(All,"40 + 1n Zergling","Anywhere",playerID);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(1300);
			}
			else if (v.P_LoopMain[playerID] == 1)
			{
				trg.Shape_NxNSquare(playerID,1,"40 + 1n Mojo",10,48);
				trg.Shape_NxNSquare(playerID,1," Unit. Hoffnung 25000",10,48);
				KillUnitAt(All," Unit. Hoffnung 25000","Anywhere",playerID);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("40 + 1n Mojo",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(200);
			}
			else if (v.P_LoopMain[playerID] == 2)
			{
				SetSwitch("Recall - MaiHime",Set);
				trg.Main_Wait(11100);
			}
			else if (v.P_LoopMain[playerID] <= 32)
			{
				SetSwitch("Recall - MaiHime",Clear);
				trg.Shape_Line(playerID,1,"40 + 1n Gantrithor",45 * v.P_LoopMain[playerID],3,196,0);
				trg.Shape_Line(playerID,1,"60 + 1n Danimoth",45 * v.P_LoopMain[playerID],3,196,0);
				Order("60 + 1n Danimoth",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				KillUnitAt(All,"40 + 1n Gantrithor","Anywhere",playerID);
				trg.Main_Wait(400);
			}
			else if (v.P_LoopMain[playerID] <= 72)
			{
				trg.Shape_Line(playerID,1,"40 + 1n Mojo",45 * v.P_LoopMain[playerID],10,128,0);
				trg.Shape_Line(playerID,1,"Protoss Dark Archon",45 * v.P_LoopMain[playerID],10,128,0);
				KillUnitAt(All,"Protoss Dark Archon","Anywhere",playerID);
				Order("40 + 1n Mojo",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				trg.Main_Wait(125);
			}
			else if(v.P_LoopMain[playerID] == 73)
			{
				trg.Debuff_Stop();
				trg.Shape_Dot(playerID,1,"60 + 3n Siege",0,0);
				trg.Shape_Dot(playerID,1,"130 + 1n Norad",0,0);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(330);
			}
			else if(v.P_LoopMain[playerID] == 74)
			{
				trg.Shape_Edge(playerID,1,"60 + 3n Siege",45,3,128);
				trg.Shape_Dot(playerID,1,"130 + 1n Norad",0,0);
				trg.Shape_Edge(playerID,1,"130 + 1n Norad",45,3,128);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(330);
			}
			else if(v.P_LoopMain[playerID] == 75)
			{
				KillUnitAt(All,"80 + 1n Tom Kazansky","Anywhere",playerID);
				trg.Shape_Edge(playerID,1,"60 + 3n Siege",45,5,256);
				trg.Shape_Dot(playerID,1,"130 + 1n Norad",0,0);
				trg.Shape_Edge(playerID,1,"130 + 1n Norad",45,3,128);
				trg.Shape_Edge(playerID,1,"130 + 1n Norad",45,5,256);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(330);
			}
			else if(v.P_LoopMain[playerID] == 76)
			{
				trg.Main_Wait(7600);
			}
			else if(v.P_LoopMain[playerID] == 77)
			{
				KillUnitAt(All,"60 + 3n Siege","Anywhere",playerID);
				trg.Shape_NxNSquare(playerID,1,"130 + 1n Norad",3,64);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(300);
			}
			else if(v.P_LoopMain[playerID] == 78)
			{
				trg.Main_Wait(1300);
			}
			else if(v.P_LoopMain[playerID] <= 88)
			{
				trg.Shape_Square(playerID,1,"100 + 1n Dragoon",64+(x*64),0);
				trg.Shape_Square(playerID,1,"Protoss Observer",64+(x*64),0);	
				KillUnitAt(All,"Protoss Observer","Anywhere",playerID);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("100 + 1n Dragoon",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				x += 1;
				trg.Main_Wait(80);
			}		
			else if(v.P_LoopMain[playerID] == 89)
			{
				trg.Shape_Square(playerID,1,"50 + 1n Tank",320,48);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",288,80);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",256,112);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",224,144);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",192,176);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",160,208);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",128,240);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",96,272);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",64,304);
				trg.Shape_Square(playerID,1,"50 + 1n Tank",32,336);
				
				trg.Shape_Square(playerID,1,"60 + 1n Archon",320,48);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",288,80);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",256,112);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",224,144);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",192,176);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",160,208);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",128,240);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",96,272);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",64,304);
				trg.Shape_Square(playerID,1,"60 + 1n Archon",32,336);
				KillUnitAt(All,"60 + 1n Archon","Anywhere",playerID);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("50 + 1n Tank",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(1875);
				x = 0;
			}
			else if(v.P_LoopMain[playerID] == 90)
			{
				trg.Shape_NxNSquare(playerID,1,"40 + 1n Gantrithor",4,128);
				ModifyUnitHangarCount(8,All,"40 + 1n Gantrithor",playerID,"Anywhere");
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("40 + 1n Gantrithor",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(1500);
			}		
			else if(v.P_LoopMain[playerID] <= 93)
			{
				trg.Shape_NxNSquare(playerID,1,"130 + 1n Norad",3,64+(x*64));
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(250);
				x += 1;
			}		
			else if(v.P_LoopMain[playerID] == 94)
			{
				x = 0;
				trg.Main_Wait(1850);
			}
			else if(v.P_LoopMain[playerID] <= 114)
			{
				KillUnitAt(All,"100 + 1n Dragoon","Anywhere",playerID);
				KillUnitAt(All,"50 + 1n Tank","Anywhere",playerID);
				trg.Shape_Square(playerID,1,"40 + 1n Wraith",196,196);
				trg.Shape_Square(playerID,1,"80 + 1n Artanis",196,196);
				trg.Shape_Square(playerID,1,"60 + 1n Danimoth",196,196);
				trg.Shape_Square(playerID,1,"40 + 1n Wraith",392,0);
				trg.Shape_Square(playerID,1,"80 + 1n Artanis",392,0);
				trg.Shape_Square(playerID,1,"60 + 1n Danimoth",392,0);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("40 + 1n Wraith",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				Order("80 + 1n Artanis",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(50);
			}
			else if(v.P_LoopMain[playerID] == 115)
			{
				x = 0;
				trg.Main_Wait(400);
			}
			else if(v.P_LoopMain[playerID] == 116)
			{
				KillUnitAt(All,"40 + 1n Wraith","Anywhere",playerID);
				KillUnitAt(All,"80 + 1n Artanis","Anywhere",playerID);
				KillUnitAt(All,"40 + 1n Gantrithor","Anywhere",playerID);
				trg.Shape_NxNSquare(playerID,1,"130 + 1n Norad",5,96);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(400);
			}
			else if(v.P_LoopMain[playerID] == 117)
			{
				trg.Shape_NxNSquare(playerID,1,"130 + 1n Norad",5,96);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("130 + 1n Norad",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(400);
			}
			else if(v.P_LoopMain[playerID] == 118)
			{
				trg.Shape_NxNSquare(playerID,1,"80 + 1n Goliath",10,64);
				trg.Shape_NxNSquare(playerID,1,"40 + 1n Gantrithor",10,64);
				KillUnitAt(All,"40 + 1n Gantrithor","Anywhere",playerID);
				trg.MoveLoc(v.P_UnitID[playerID],playerID,0,0);
				Order("80 + 1n Goliath",playerID,"Anywhere",Attack,v.P_LocationID[playerID]);
				trg.Main_Wait(300);
			}
			else if(v.P_LoopMain[playerID] == 119)
			{
				KillUnitAt(All,"80 + 1n Goliath","Anywhere",playerID);
				trg.SkillEnd();
			}
			v.P_LoopMain[playerID] += 1;
		}
	}
}