import Function as f;

function main(cp)
{
	f.BanReturn(cp);
	f.Slow(cp);
	
	if (f.loop[cp] > 30) 
	{
		MoveUnit(All, "80 + 1n Tom Kazansky", cp, "Anywhere", "[Skill]HoldPosition");
		MoveUnit(All, "80 + 1n Artanis", cp, "Anywhere", "[Skill]HoldPosition");
		MoveUnit(All, "80 + 1n Mutalisk", cp, "Anywhere", "[Skill]HoldPosition");
	}

	if (f.delay[cp] == 0)
	{
		if(f.count[cp] == 0)
		{
			
			if (f.loop[cp] == 0)
			{
				f.DotShape(cp, 1, "40 + 1n Gantrithor", 0, 0);
				f.DotShape(cp, 8, "Protoss Dark Archon", 0, 0);
				KillUnitAt(All, "40 + 1n Gantrithor", "Anywhere", cp);
				KillUnitAt(All, "Protoss Dark Archon", "Anywhere", cp);
				f.SkillWait(cp, 0);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 1)
			{
				f.SquareShape(cp, 1, "40 + 1n Gantrithor", 56, 56);
				f.SquareShape(cp, 8, "Protoss Dark Archon", 56, 56);
				f.SquareShape(cp, 1, "40 + 1n Gantrithor", 80, 0);
				f.SquareShape(cp, 8, "Protoss Dark Archon", 80, 0);
				KillUnitAt(All, "40 + 1n Gantrithor", "Anywhere", cp);
				KillUnitAt(All, "Protoss Dark Archon", "Anywhere", cp);
				f.SkillWait(cp, 0);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 2)
			{
				f.SquareShape(cp, 1, "40 + 1n Gantrithor", 114, 114);
				f.SquareShape(cp, 8, "Protoss Dark Archon", 114, 114);
				f.SquareShape(cp, 1, "40 + 1n Gantrithor", 160, 0);
				f.SquareShape(cp, 8, "Protoss Dark Archon", 160, 0);
				KillUnitAt(All, "40 + 1n Gantrithor", "Anywhere", cp);
				KillUnitAt(All, "Protoss Dark Archon", "Anywhere", cp);
				f.SkillWait(cp, 0);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] >= 3 && f.loop[cp] <= 20)
			{
				f.Table_Cos(cp, 9 * f.loop[cp], 288);
				f.Table_Sin(cp, 9 * f.loop[cp], 288);
				f.SquareShape(cp, 1, "80 + 1n Tom Kazansky", f.CosAngle[cp], f.SinAngle[cp]);
				f.SquareShape(cp, 8, "Torrasque", f.CosAngle[cp], f.SinAngle[cp]);
				
				KillUnitAt(All, "Torrasque", "Anywhere", cp);
				MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");
				Order("80 + 1n Tom Kazansky", cp, "Anywhere", Attack, f.location[cp]);
				f.SkillWait(cp, 100);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] >= 21 && f.loop[cp] <= 38)
			{
				f.Table_Cos(cp, -9 * f.loop[cp], 288);
				f.Table_Sin(cp, -9 * f.loop[cp], 288);
				f.SquareShape(cp, 1, "80 + 1n Artanis", f.CosAngle[cp], f.SinAngle[cp]);
				f.SquareShape(cp, 8, "50 + 1n Tank", f.CosAngle[cp], f.SinAngle[cp]);
				
				KillUnitAt(All, "50 + 1n Tank", "Anywhere", cp);
				MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");
				Order("80 + 1n Artanis", cp, "Anywhere", Attack, f.location[cp]);
				f.SkillWait(cp, 100);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] >= 39 && f.loop[cp] <= 50)
			{
				f.Table_Cos(cp, 9 * f.loop[cp], 288);
				f.Table_Sin(cp, 9 * f.loop[cp], 288);
				f.SquareShape(cp, 1, "80 + 1n Mutalisk", f.CosAngle[cp], f.SinAngle[cp]);
				f.SquareShape(cp, 8, "60 + 1n Dragoon", f.CosAngle[cp], f.SinAngle[cp]);
				
				KillUnitAt(All, "60 + 1n Dragoon", "Anywhere", cp);
				MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");
				Order("80 + 1n Mutalisk", cp, "Anywhere", Attack, f.location[cp]);
				f.SkillWait(cp, 100);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 51)
			{
				f.loop[cp] = 0;
				f.count[cp] += 1;
			}
		}
		else if(f.count[cp] == 1)
		{
			if (f.loop[cp] == 0)
			{
				if (cp < 3)
				{
					GiveUnits(All, "80 + 1n Tom Kazansky", CurrentPlayer, "Anywhere", P7);
					GiveUnits(All, "80 + 1n Artanis", CurrentPlayer, "Anywhere", P7);
					GiveUnits(All, "80 + 1n Mutalisk", CurrentPlayer, "Anywhere", P7);
				}
				else
				{
					GiveUnits(All, "80 + 1n Tom Kazansky", CurrentPlayer, "Anywhere", P8);
					GiveUnits(All, "80 + 1n Artanis", CurrentPlayer, "Anywhere", P8);
					GiveUnits(All, "80 + 1n Mutalisk", CurrentPlayer, "Anywhere", P8);
				}
				f.SkillWait(cp, 0);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 1)
			{
				f.Voice_Routine(cp, 6);
				SetSwitch("JunkYardDog", Set);
				f.SkillWait(cp, 1200);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 2)
			{
				if (cp < 3)
				{
					GiveUnits(All, "80 + 1n Tom Kazansky", P7, "Anywhere", CurrentPlayer);
					GiveUnits(All, "80 + 1n Artanis", P7, "Anywhere", CurrentPlayer);
					GiveUnits(All, "80 + 1n Mutalisk", P7, "Anywhere", CurrentPlayer);
				}
				else
				{
					GiveUnits(All, "80 + 1n Tom Kazansky", P8, "Anywhere", CurrentPlayer);
					GiveUnits(All, "80 + 1n Artanis", P8, "Anywhere", CurrentPlayer);
					GiveUnits(All, "80 + 1n Mutalisk", P8, "Anywhere", CurrentPlayer);
				}
				SetSwitch("JunkYardDog", Clear);
				f.SkillWait(cp, 0);
				f.loop[cp] += 1;
			}
			else if (f.loop[cp] == 3)
			{
				MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");
				Order("80 + 1n Tom Kazansky", cp, "Anywhere", Attack, f.location[cp]);
				Order("80 + 1n Artanis", cp, "Anywhere", Attack, f.location[cp]);
				Order("80 + 1n Mutalisk", cp, "Anywhere", Attack, f.location[cp]);
				f.SkillWait(cp, 2600);
				f.loop[cp] = 0;
				f.count[cp] += 1;
			}
		}
		else if (f.count[cp] == 2)
		{
			f.NxNSquareShape(cp, 1, "130 + 1n Norad", 5, 64);
			f.SquareShape(cp, 1, "130 + 1n Norad", 192, 0);
			f.SquareShape(cp, 1, "130 + 1n Norad", 192, 128);
			f.SquareShape(cp, 1, "130 + 1n Norad", 192, -128);
			f.SquareShape(cp, 1, "130 + 1n Norad", 256, 0);
			f.SquareShape(cp, 1, "130 + 1n Norad", 320, 0);
			MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");
			Order("130 + 1n Norad", cp, "Anywhere", Attack, f.location[cp]);
			f.SkillWait(cp, 1200);
			f.count[cp] += 1;
		}
		else if (f.count[cp] == 3)
		{
			KillUnitAt(All, "130 + 1n Norad", "Anywhere", CurrentPlayer);
			KillUnitAt(All, "80 + 1n Tom Kazansky", "Anywhere", CurrentPlayer);
			KillUnitAt(All, "80 + 1n Artanis", "Anywhere", CurrentPlayer);
			KillUnitAt(All, "80 + 1n Mutalisk", "Anywhere", CurrentPlayer);
			SetSwitch("UiltimateSwitch", Clear);
			f.SkillEnd(cp);
		}
	}
}