import Function as f;

function main(cp)
{
   f.BanReturn(cp);
   f.HoldPosition(cp);

   if (f.delay[cp] == 0)
   {
      if (f.count[cp] == 0)
      {
         if (f.loop[cp] == 0)
         {
            SetSwitch("Recall - Oda", Set);
         }

         f.Table_Sin(cp, 22 * f.loop[cp], 200);
         f.Table_Cos(cp, 22 * f.loop[cp], 200);

         var x = f.CosAngle[cp];
         var y = f.SinAngle[cp];

         f.DoubleShape(cp, 1, "Bengalaas (Jungle)", x, y);
         KillUnitAt(All, "Bengalaas (Jungle)", "Anywhere", cp);

         if (f.loop[cp] == 73)
         {
            f.Voice_Routine(cp, 29);
         }
         if (f.loop[cp] == 144)
         {
            f.Voice_Routine(cp, 30);
         }
         if (f.loop[cp] == 215)
         {
            f.Voice_Routine(cp, 31);
         }
         if (f.loop[cp] == 279)
         {
            f.Voice_Routine(cp, 32);
         }
         if (f.loop[cp] == 334)
         {
            f.Voice_Routine(cp, 33);
         }

         f.SkillWait(cp, 80);

         f.loop[cp] += 1;

         if (f.loop[cp] == 398)
         {
            f.count[cp] += 1;
            f.loop[cp] = 0;         
         }
      }
      else if (f.count[cp] == 1)
      {
         f.Table_Sin(cp, 0, 100);
         f.Table_Cos(cp, 0, 100);

         f.SquareShape(cp, 1, " Unit. Hoffnung 25000", f.CosAngle[cp], f.SinAngle[cp]);

         f.Table_Sin(cp, 45, 100);
         f.Table_Cos(cp, 45, 100);

         f.SquareShape(cp, 1, " Unit. Hoffnung 25000", f.CosAngle[cp], f.SinAngle[cp]);

         f.Table_Sin(cp, 0, 200);
         f.Table_Cos(cp, 0, 200);

         f.SquareShape(cp, 1, " Unit. Hoffnung 25000", f.CosAngle[cp], f.SinAngle[cp]);

         f.Table_Sin(cp, 45, 200);
         f.Table_Cos(cp, 45, 200);

         f.SquareShape(cp, 1, " Unit. Hoffnung 25000", f.CosAngle[cp], f.SinAngle[cp]);

         KillUnitAt(All, " Unit. Hoffnung 25000", "Anywhere", cp);

         f.Voice_Routine(cp, 34);

         SetSwitch("Recall - Oda", Clear);
         SetSwitch("Reinforce - Oda", Set);

         f.SkillEnd(cp);
      }
   }
   MoveLocation(f.location[cp], f.heroID[cp], cp, "Anywhere");

}