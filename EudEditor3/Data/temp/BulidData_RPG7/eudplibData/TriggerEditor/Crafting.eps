import Variables as v;
import Main as m;
import Inventory as inv;
import Function as func;

const CraftingTimer = PVariable();
const s = StringBuffer(1000);
function Crafting(item) 
{
	if(CraftingTimer[getcurpl()] >= 0) 
	{
		v.print[getcurpl()] = 2;
		if(CraftingTimer[getcurpl()] == 1 * 14 / 10) 
		{
			if(v.Crafting[getcurpl()] == 1) PlayWAV("staredit\\wav\\UnsawnTimber.ogg");
			else if(v.Crafting[getcurpl()] == 2) PlayWAV("staredit\\wav\\sawmill.ogg");
			else if(v.Crafting[getcurpl()] == 3) PlayWAV("staredit\\wav\\mining.ogg");
			v.isHold[getcurpl()] = 1;
		} else if(CraftingTimer[getcurpl()] < 3 * 14 / 10) {
			eprintln("\x1d□□□□□□□□□□");
		} else if(CraftingTimer[getcurpl()] < 10 * 14 / 10) {
			eprintln("\x1d■□□□□□□□□□");
		} else if(CraftingTimer[getcurpl()] < 20 * 14 / 10) {
			eprintln("\x1d■■□□□□□□□□");
		} else if(CraftingTimer[getcurpl()] < 30 * 14 / 10) {
			eprintln("\x1d■■■□□□□□□□");
		} else if(CraftingTimer[getcurpl()] < 40 * 14 / 10) {
			eprintln("\x1d■■■■□□□□□□");
		} else if(CraftingTimer[getcurpl()] < 50 * 14 / 10) {
			eprintln("\x1d■■■■■□□□□□");
		} else if(CraftingTimer[getcurpl()] < 60 * 14 / 10) {
			eprintln("\x1d■■■■■■□□□□");
		} else if(CraftingTimer[getcurpl()] < 70 * 14 / 10) {
			eprintln("\x1d■■■■■■■□□□");
		} else if(CraftingTimer[getcurpl()] < 80 * 14 / 10) {
			eprintln("\x1d■■■■■■■■□□");
		} else if(CraftingTimer[getcurpl()] < 90 * 14 / 10) {
			eprintln("\x1d■■■■■■■■■□");
		} else if(CraftingTimer[getcurpl()] < 100 * 14 / 10) {
			eprintln("\x1d■■■■■■■■■■");
		} else if(CraftingTimer[getcurpl()] == 100 * 14 / 10) {
			v.Crafting[getcurpl()] = 0;
			CraftingTimer[getcurpl()] = 0;
			v.print[getcurpl()] = 1;
			v.isHold[getcurpl()] = 0;
			if(strcmp(item, v.UnsawnTimber.name) == 0) 
			{
				RemoveUnitAt(1, "Zerg Overlord", v.user_Loc[getcurpl()] + 1, P7);
				func.TextClear2();
				func.AddItem(100, v.UnsawnTimber.name, 1);
			} else if(strcmp(item, v.Timber.name) == 0) {
				func.AddItem(100, v.Timber.name, 2);
			} else if(strcmp(item, v.IronOre.name) == 0) {
				RemoveUnitAt(1, "Zerg Queen", v.user_Loc[getcurpl()] + 1, P7);
				func.AddItem(100, v.IronOre.name, 1);
			}
		}
		CraftingTimer[getcurpl()] += 1;
	}
}
