import variable_data as vd;


const s = StringBuffer();

function Trainning_Ticket(cp);
function Cloth_Ticket(cp);

function Title_Effect(cp)
{
	if (Bring(cp, AtLeast, 1, 175, "Title"))
	{
		SetDeaths(cp, Add, 1, 175);
		if (Deaths(cp, AtLeast, 480, 175))
		{
			//s.print("\x13\x1F아쿠아리우스 \x04효과 스케줄 1%");
			switch(cp)
			{
			case 0:
				ModifyUnitHitPoints(1, "(men)", P7, "Player1", 1);
				break;
			case 1:
				ModifyUnitHitPoints(1, "(men)", P7, "Player2", 1);
				break;
			case 2:
				ModifyUnitHitPoints(1, "(men)", P7, "Player3", 1);
				break;
			case 3:
				ModifyUnitHitPoints(1, "(men)", P7, "Player4", 1);
				break;
			case 4:
				ModifyUnitHitPoints(1, "(men)", P7, "Player5", 1);
				break;
			}
			SetDeaths(cp, SetTo, 0, 175);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 174, "Title"))
	{
		SetDeaths(cp, Add, 1, 174);
		if (Deaths(cp, AtLeast, 4320, 174))
		{
			s.print("\x13\x1F캔서 \x04효과 대상");
			var type = dwrand() % 3;
			var random = dwrand() % 17;
			
			if(type == 0)
			{
				SetDeaths(P8, Add, 30, vd.Princess_Unit_Index[random]); 	
				s.print("\x13", ptr2s(GetTBLAddr(vd.Princess_Unit_Index[random] + 1)), "\n");
			}
			if(type == 1)
			{ 
				SetDeaths(P8, Add, 30, vd.Fairy_Unit_Index[random]); 		
				s.print("\x13", ptr2s(GetTBLAddr(vd.Fairy_Unit_Index[random] + 1)), "\n");
			}
			if(type == 2) 
			{ 
				SetDeaths(P8, Add, 30, vd.Angel_Unit_Index[random]); 	
				s.print("\x13", ptr2s(GetTBLAddr(vd.Angel_Unit_Index[random] + 1)), "\n");
			}
			SetDeaths(cp, SetTo, 0, 174);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 173, "Title"))
	{
		SetDeaths(cp, Add, 1, 173);
		if (Deaths(cp, AtLeast, 2880, 173))
		{
			s.print("\n\x13\x1F제미니 \x04효과 +20 골드\n");
			SetResources(cp, Add, 20, Ore);
			SetDeaths(cp, SetTo, 0, 173);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 172, "Title"))
	{
		SetDeaths(cp, Add, 1, 172);
		if (Deaths(cp, AtLeast, 7200, 172))
		{
			s.print("\n\x13\x1F카프리콘 \x04효과 +1 메달 티켓\n");
			CreateUnit(1, 64, "MedalGacha", cp);
			SetDeaths(cp, SetTo, 0, 172);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 171, "Title"))
	{
		SetDeaths(cp, Add, 1, 171);
		if (Deaths(cp, AtLeast, 21600, 171))
		{
			s.print("\n\x13\x1F피스케스 \x04효과 +1 특훈 티켓\n");
			Trainning_Ticket(cp);
			SetDeaths(cp, SetTo, 0, 171);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 170, "Title"))
	{
		SetDeaths(cp, Add, 1, 170);
		if (Deaths(cp, AtLeast, 14400, 170))
		{
			s.print("\n\x13\x1F리브라 \x04효과 +1 의상 티켓\n");
			Cloth_Ticket(cp);
			SetDeaths(cp, SetTo, 0, 170);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 169, "Title"))
	{
		SetDeaths(cp, Add, 1, 169);
		if (Deaths(cp, AtLeast, 21600, 169))
		{
			switch(cp)
			{
			case 0:
				RemoveUnitAt(1, "(men)", "Player1", P7);
				break;
			case 1:
				RemoveUnitAt(1, "(men)", "Player2", P7);
				break;
			case 2:
				RemoveUnitAt(1, "(men)", "Player3", P7);
				break;
			case 3:
				RemoveUnitAt(1, "(men)", "Player4", P7);
				break;
			case 4:
				RemoveUnitAt(1, "(men)", "Player5", P7);
				break;
			}
			SetDeaths(cp, SetTo, 0, 169);
		}
	}
		
	if (Bring(cp, AtLeast, 1, 168, "Title"))
	{
		SetDeaths(cp, Add, 1, 168);
		if (Deaths(cp, AtLeast, 4320, 168))
		{
			SetResources(cp, Add, 10 * dwread_epd(EPD(0x57F0F0 + 48 * 1 + 4 * cp)), Ore);
			SetDeaths(cp, SetTo, 0, 168);
		}
	}
		
	if (Bring(cp, AtLeast, 1, 167, "Title"))
	{
		SetDeaths(cp, Add, 1, 167);
		if (Deaths(cp, AtLeast, 7200, 167))
		{
			if (Accumulate(cp, AtLeast, 200, Ore))
			{
				s.print("\n\x13\x1F타우러스 \x04효과 +1 Gas\n");
				SetResources(cp, Add, 1, Gas);
			}
			SetDeaths(cp, SetTo, 0, 167);
		}
	}
		
	if (Bring(cp, AtLeast, 1, 166, "Title"))
	{
		SetDeaths(cp, Add, 1, 166);
		if (Deaths(cp, AtLeast, 10080, 166))
		{
			s.print("\n\x13\x1F아리에스 \x04효과 +1 Gas\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 166);
		}
	}
		
	if (Bring(cp, AtLeast, 1, 165, "Title"))
	{
		SetDeaths(cp, Add, 1, 165);
		if (Deaths(cp, AtLeast, 240, 165))
		{
			//s.print("\n\x13\x1F레오 \x04효과 +1 골드\n");
			SetResources(cp, Add, 1, Ore);
			SetDeaths(cp, SetTo, 0, 165);
		}
	}	
	
	if (Bring(cp, AtLeast, 1, 164, "Title"))
	{
		SetDeaths(cp, Add, 1, 164);
		if (Deaths(cp, AtLeast, 8640, 164))
		{
			s.print("\n\x13\x1F스콜피오 \x04효과 +1 앨범 티켓\n");
			CreateUnit(1, 114, "JewelGacha", cp);
			SetDeaths(cp, SetTo, 0, 164);
		}
	}

	// 프린세스
	if (Bring(cp, AtLeast, 1, 163, "Title"))
	{
		SetDeaths(cp, Add, 1, 163);
		if (Deaths(cp, AtLeast, 8640, 163))
		{
			s.print("\n\x13\x1B샤를로트 샬럿 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 163);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 160, "Title"))
	{
		SetDeaths(cp, Add, 1, 160);
		if (Deaths(cp, AtLeast, 8640, 160))
		{
			s.print("\n\x13\x1B트윙클 리듬 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 160);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 159, "Title"))
	{
		SetDeaths(cp, Add, 1, 159);
		if (Deaths(cp, AtLeast, 8640, 159))
		{
			s.print("\n\x13\x1B스타 엘리먼츠 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 159);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 155, "Title"))
	{
		SetDeaths(cp, Add, 1, 155);
		if (Deaths(cp, AtLeast, 8640, 155))
		{
			s.print("\n\x13\x1B섬광☆HANABI단 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 155);
		}
	}
	
	// 페어리
	if (Bring(cp, AtLeast, 1, 154, "Title"))
	{
		SetDeaths(cp, Add, 1, 154);
		if (Deaths(cp, AtLeast, 8640, 154))
		{
			s.print("\n\x13\x1CD/Zeal \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 154);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 152, "Title"))
	{
		SetDeaths(cp, Add, 1, 152);
		if (Deaths(cp, AtLeast, 8640, 152))
		{
			s.print("\n\x13\x1CEscape \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 152);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 151, "Title"))
	{
		SetDeaths(cp, Add, 1, 151);
		if (Deaths(cp, AtLeast, 8640, 151))
		{
			s.print("\n\x13\x1CJelly PoP Beans \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 151);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 148, "Title"))
	{
		SetDeaths(cp, Add, 1, 148);
		if (Deaths(cp, AtLeast, 8640, 148))
		{
			s.print("\n\x13\x1C야상영양 -그레이스 녹턴- \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 148);
		}
	}
	
	// 엔젤
	if (Bring(cp, AtLeast, 1, 147, "Title"))
	{
		SetDeaths(cp, Add, 1, 147);
		if (Deaths(cp, AtLeast, 8640, 147))
		{
			s.print("\n\x13\x19클리어스카이 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 147);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 142, "Title"))
	{
		SetDeaths(cp, Add, 1, 142);
		if (Deaths(cp, AtLeast, 8640, 142))
		{
			s.print("\n\x13\x19 4 Luxury \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 142);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 140, "Title"))
	{
		SetDeaths(cp, Add, 1, 140);
		if (Deaths(cp, AtLeast, 8640, 140))
		{
			s.print("\n\x13\x19리루캔 ~3 little candy~ \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 140);
		}
	}
	
	if (Bring(cp, AtLeast, 1, 139, "Title"))
	{
		SetDeaths(cp, Add, 1, 139);
		if (Deaths(cp, AtLeast, 8640, 139))
		{
			s.print("\n\x13\x19피코피코 플래닛츠 \x04효과 +1 가스\n");
			SetResources(cp, Add, 1, Gas);
			SetDeaths(cp, SetTo, 0, 139);
		}
	}
}

function Trainning_Ticket(cp)
{
	var random = dwrand() % 3;
		
	switch(random)
	{
	case 0:
		CreateUnit(1, 126, "JewelGacha", cp);
		break;
	case 1:
		CreateUnit(1, 127, "JewelGacha", cp);
		break;
	case 2:
		CreateUnit(1, 135, "JewelGacha", cp);
		break;
	}
}

function Cloth_Ticket(cp)
{
	var random = dwrand() % 3;
	
	switch(random)
	{
	case 0:
		CreateUnit(1, 116, "JewelGacha", cp);
		break;
	case 1:
		CreateUnit(1, 122, "JewelGacha", cp);
		break;
	case 2:
		CreateUnit(1, 123, "JewelGacha", cp);
		break;
	}
}